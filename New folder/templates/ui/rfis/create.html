{% extends 'base.html' %}
{% block content %}
<h1>New RFI</h1>
<div class="form-card" style="max-width:900px;">
  <form method="post" class="form-grid form-2">
    {% csrf_token %}
    <div class="form-grid form-2">
      <label class="form-field"><span class="caption">RFI No</span>{{ form.rfi_number }}</label>
      <label class="form-field"><span class="caption">Project</span>{{ form.project }}</label>
      <div id="assigned-to-block" class="form-card" style="grid-column: span 1; padding:8px;">
        <em>Select a project to populate assignees.</em>
      </div>
      <div hx-get="{% url 'ui:rfi-assigned-to-partial' %}"
           hx-trigger="load, change from:#id_project" hx-target="#assigned-to-block" hx-include="#id_project"></div>
      <label class="form-field"><span class="caption">Assigned To</span>{{ form.assigned_to }}</label>
      <label class="form-field"><span class="caption">Originator</span>{{ form.originator }}</label>
      <label class="form-field"><span class="caption">Date Received</span>{{ form.date_received }}</label>
      <label class="form-field"><span class="caption">Name</span>{{ form.name }}</label>
    </div>
    <div class="form-actions"><button class="btn btn-primary" type="submit">Create</button></div>
  </form>
</div>
{% endblock %}
